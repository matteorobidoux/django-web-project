{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'admin-style.css' %}">
<title> Admin Dashboard </title>
{% endblock %}
{% block content %}
<section id="content-section">
    <section>
        <h1>Admin dashboard.</h1>
        List of all users registered on the website:
    </section>
    <section>
        <button class="action-button-1">
            Create user
        </button>
    </section>
    <table class="content-block">
        <thead>
            <th>
                ID
            </th>
            <th>
                Username
            </th>
            <th>
                Group
            </th>
        </thead>
        <tbody>
        {% for target_user in user_list %}
            <tr>
                <td>
                    {{ target_user.id }}
                </td>
                <td>
                    {{ target_user.username }}
                </td>
                <td>
                    {{ target_user.groups.all.0 }}
                </td>
                {% include 'admin-actions.html' with target_user=target_user %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <section class="page-select">

        <a href="?page=1">
            <button class="page-button"{% if not page_obj.has_previous %} disabled {% endif %}>
                &lt;&lt;
            </button>
        </a>
        <a {% if page_obj.has_previous %} href="?page={{ page_obj.previous_page_number }}" {% endif %}>
            <button class="page-button" {% if not page_obj.has_previous %} disabled {% endif %}>
                &lt;
            </button >
        </a>
        <span class="page-num">
            Page {{ page_obj.number }}
        </span>
        <a {% if page_obj.has_next %} href="?page={{ page_obj.next_page_number }}" {% endif %} >
            <button class="page-button" {% if not page_obj.has_next %} disabled {% endif %}>
                &gt;
            </button>
        </a>
        <a {% if page_obj.has_next %} href="?page={{ page_obj.paginator.num_pages }}" {% endif %}>
            <button class="page-button" {% if not page_obj.has_next %} disabled {% endif %}>
                &gt;&gt;
            </button>
        </a>
    </section>
</section>
{% endblock %}
